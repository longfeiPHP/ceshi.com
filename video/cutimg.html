<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>canvas截取视频第一帧</title>
</head>
<body>
<video id="video" controls="controls" poster="">
<source src="ceshi.mp4">
</video>
<div id="output"></div>
<script type="text/javascript">
(function(){
	var video, output;
	var scale = 1;
	var initialize = function() {
		output = document.getElementById("output");
		video = document.getElementById("video");
		video.addEventListener('loadeddata',captureImage);
	};
	 
	var captureImage = function() {
		var canvas = document.createElement("canvas");
		canvas.width = video.videoWidth * scale;
		canvas.height = video.videoHeight * scale;
		canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);
	
		var img = document.createElement("img");
		img.src = canvas.toDataURL();//"image/png"
		output.appendChild(img);
		video.poster = canvas.toDataURL();
	};
	 
	initialize();
})();
</script>
</body>
</html>